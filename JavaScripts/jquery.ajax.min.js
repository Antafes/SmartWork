
(function(a){a.widget("sw.ajax",{options:{ajaxParameter:"ajax",success:function(){},error:function(){}},_create:function(){this._config={target:this._getTarget()};this._addListener()},_getTarget:function(){var b=document.createElement("a");if(this.element.attr("href")){b.href=this.element.attr("href")}if(this.element.attr("src")){b.href=this.element.attr("src")}if(b.href===""){console.error("No target found!")}if(b.search.search(this.options.ajaxParameter)===-1){if(b.search===""){b.search="?"+this.options.ajaxParameter+"=1"}else{b.search+="&"+this.options.ajaxParameter+"=1"}}return b.href},_addListener:function(){this.element.on("click.a touch.a",a.proxy(function(b){b.preventDefault();this._sendAjaxRequest()},this))},_sendAjaxRequest:function(){a.ajax(this._config.target,{success:a.proxy(function(b){this.options.success(this.element,b)},this),error:a.proxy(function(b){this.options.error(this.element,b)},this)})},_destroy:function(){this.element.off("click.a touch.a")}})}(jQuery));