(function(a){a.widget("sw.ajax",{options:{target:"",ajaxParameter:"ajax",success:function(){},error:function(){},sendCallback:function(){}},_create:function(){this._config={target:this._getTarget()};this._addListener()},_getTarget:function(){var b=document.createElement("a");if(this.options.target){b.href=this.options.target}else{if(this.element.attr("href")){b.href=this.element.attr("href")}if(this.element.attr("src")){b.href=this.element.attr("src")}if(b.href===""){console.error("No target found!")}}if(b.search.search(this.options.ajaxParameter)===-1){if(b.search===""){b.search="?"+this.options.ajaxParameter+"=1"}else{b.search+="&"+this.options.ajaxParameter+"=1"}}return b.href},_addListener:function(){this.element.on("click.a touch.a",a.proxy(function(b){var c={};b.preventDefault();this._sendAjaxRequest(a.extend(c,this.options.sendCallback(this.element)))},this))},_sendAjaxRequest:function(b){a.ajax(this._config.target,{data:b,success:a.proxy(function(c){this.options.success(this.element,c)},this),error:a.proxy(function(c){this.options.error(this.element,c)},this)})},_destroy:function(){this.element.off("click.a touch.a")}})}(jQuery));